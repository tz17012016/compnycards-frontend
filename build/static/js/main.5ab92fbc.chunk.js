(this.webpackJsonpcompnycards=this.webpackJsonpcompnycards||[]).push([[0],{40:function(e,t,r){},43:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){},73:function(e,t,r){"use strict";r.r(t);var c=r(1),a=r.n(c),n=r(21),s=r.n(n),i=(r(40),r(2)),o=r.n(i),u=r(3),l=r(5),b=r(8),d=r(9),j=r(6),m=(r(42),r(43),r(44),r(45),r(7)),p=r(24),h=r.n(p),O="https://compnycards-backend.herokuapp.com",x=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(o.a.mark((function e(t,r,c){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()({method:r,url:t,data:c,headers:{"content-type":"application/json","x-auth-token":localStorage.tok}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,c){return e.apply(this,arguments)}}(),v={},g=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.tok){e.next=17;break}return O+"/users/userInfo",e.prev=2,e.next=5,f("https://compnycards-backend.herokuapp.com/users/userInfo","GET");case 5:return(t=e.sent)._id?v=t:(localStorage.removeItem("tok"),v={}),e.abrupt("return",v);case 10:return e.prev=10,e.t0=e.catch(2),localStorage.removeItem("tok"),v={},e.abrupt("return",v);case 15:e.next=19;break;case 17:return v={},e.abrupt("return",v);case 19:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),N=function(){return v},k=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[].concat(Object(m.a)(v.cards),[t]),c=new Set(Object(m.a)(c)),(r=v.cards).splice.apply(r,[0,v.cards.length].concat(Object(m.a)(c))),O+"/users/cards",e.prev=4,e.next=7,f("https://compnycards-backend.herokuapp.com/users/cards","PATCH",{cards:v.cards});case 7:return 1===(a=e.sent).n&&j.b.success("Cards fav update"),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(4),j.b.error("There problem , try again later !"),e.t0;case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=v.cards.filter((function(e){return e!==t})),(r=v.cards).splice.apply(r,[0,v.cards.length].concat(Object(m.a)(c))),O+"/users/cards",e.prev=3,e.next=6,f("https://compnycards-backend.herokuapp.com/users/cards","PATCH",{cards:v.cards});case 6:return 1===(a=e.sent).n&&j.b.warning("Cards fav removed"),e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(3),j.b.error("There problem , try again later !"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),y=r(0);var z=function(e){var t=Object(c.useState)(!1),r=Object(l.a)(t,2),n=r[0],s=r[1],i=Object(c.useState)(null),m=Object(l.a)(i,2),p=m[0],h=m[1],O=Object(d.f)();Object(c.useEffect)((function(){h(N())}),[e.location]);var x=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("tok"),g(),O.push("/login"),j.b.info("You logged out from system !");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{className:"container nav_top p-2",children:Object(y.jsxs)("div",{className:"row align-items-center",children:[Object(y.jsxs)("div",{className:"logo col-lg-3 d-flex justify-content-between align-items-center",children:[Object(y.jsx)("h2",{className:"text-danger",children:"Cards project"}),Object(y.jsx)("div",{className:"burger",onClick:function(){s(!n)},children:Object(y.jsx)("i",{className:"fa fa-bars fs-2","aria-hidden":"true"})})]}),Object(y.jsxs)("nav",{onClick:function(){s(!1)},className:"col-lg-9 text-end",style:{display:n&&"block"},children:[Object(y.jsx)(b.b,{to:"/",children:"Home"}),Object(y.jsx)(b.b,{to:"/about",children:"About"}),localStorage.tok?Object(y.jsxs)(a.a.Fragment,{children:[Object(y.jsx)(b.b,{to:"/userInfo",children:"User info"}),Object(y.jsx)(b.b,{to:"/favorites",children:"My Favorites"}),(null===p||void 0===p?void 0:p.biz)&&Object(y.jsx)(b.b,{to:"/myBizCards",children:"My cards"}),Object(y.jsx)(b.b,{onClick:x,to:"#",className:"text-danger",children:"Log out"})]}):Object(y.jsxs)(a.a.Fragment,{children:[Object(y.jsx)(b.b,{to:"/login",children:"Log in"}),Object(y.jsx)(b.b,{to:"/signup",children:"Sign up"})]})]})]})})};var S=function(e){var t=Object(c.useState)(),r=Object(l.a)(t,2),a=r[0],n=r[1],s=Object(c.useState)(1),i=Object(l.a)(s,2),b=i[0],d=i[1];Object(c.useEffect)((function(){n(N())}),[]);var j=function(e){return a.cards.includes(e.bizNumber)?Object(y.jsx)("button",{onClick:Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e.bizNumber);case 2:d(b+1);case 3:case"end":return t.stop()}}),t)}))),className:"btn btn-warning",children:"- fav"}):Object(y.jsx)("button",{onClick:Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e.bizNumber);case 2:d(b+1);case 3:case"end":return t.stop()}}),t)}))),className:"btn btn-success",children:"+ fav"})};return Object(y.jsx)("div",{className:"row",children:e.ar.map((function(e){var t,r=(null===(t=e.bizImage)||void 0===t?void 0:t.length)>2?e.bizImage:"/images/default.jpg";return Object(y.jsx)("div",{className:"col-lg-4 p-3",children:Object(y.jsxs)("div",{className:"border",children:[Object(y.jsx)("div",{className:"biz_img",style:{backgroundImage:"url(".concat(r,")")}}),Object(y.jsxs)("article",{className:"p-3",children:[Object(y.jsx)("h2",{children:e.bizName}),Object(y.jsx)("p",{children:e.bizDescription}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)("strong",{children:"Phone:"})," ",e.bizPhone]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("strong",{children:"Address:"})," ",e.bizAddress]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("strong",{children:"Biz number:"})," ",e.bizNumber]}),a._id?j(e):Object(y.jsx)("small",{className:"text text-danger",children:"* log in to add to favorite"})]})]})},e._id)}))})};var C=function(e){return Object(y.jsx)("div",{className:"my-4",children:Object(y.jsx)("h1",{children:e.title})})};var E=function(e){var t=Object(c.useState)(0),r=Object(l.a)(t,2),a=r[0],n=r[1];Object(c.useEffect)((function(){s()}),[]);var s=function(){var t=Object(u.a)(o.a.mark((function t(){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=O+e.urlOfItemNum,t.next=3,x(r);case 3:c=t.sent,n(Math.ceil(c.count/5));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{children:"Page: "}),Object(m.a)(Array(a)).map((function(t,r){return Object(y.jsx)(b.b,{to:e.linkTo+(r+1),className:"btn btn-dark me-1",children:r+1},r)}))]})};var q=function(e){var t=Object(c.useState)([]),r=Object(l.a)(t,2),a=r[0],n=r[1];Object(c.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=e.get("page")?e.get("page")-1:0;s(O+"/cards?reverse=yes&page="+t)}),[e.location]);var s=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:r=e.sent,n(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{children:[Object(y.jsx)(C,{title:"Welcome to home page"}),Object(y.jsx)(E,{urlOfItemNum:"/cards/totalCards",linkTo:"/?page="}),Object(y.jsx)(S,{ar:a})]})})};var A=function(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)(C,{title:"About"}),Object(y.jsx)("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Neque eveniet natus ullam repellat. Reprehenderit nulla enim ab quia similique sit recusandae iure quasi iusto officiis, praesentium dolorem consequuntur odit mollitia quo eligendi vero aspernatur, accusantium optio vitae minima, neque iste! Porro illo doloribus quo officiis molestiae ut quas at voluptatem praesentium voluptatum optio sapiente quos ipsam repudiandae omnis laboriosam, magnam est accusantium fuga, harum consequatur maxime! Quos magnam, voluptatum iure est suscipit vel, laborum, impedit doloribus sunt nesciunt autem accusamus minus dicta doloremque veritatis. Nihil aut doloribus quis eligendi, fugit itaque aperiam earum numquam sit maiores a! In, dignissimos hic!"})]})};var I=function(e){return Object(y.jsx)("div",{children:Object(y.jsx)(C,{title:"Page not found , 404!"})})},P=r(4),T=r(15);var B=function(e){var t=Object(T.a)(),r=t.register,c=t.handleSubmit,a=t.formState.errors,n=Object(d.f)(),s=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O+"/users/",e.prev=1,e.next=4,f("https://compnycards-backend.herokuapp.com/users/","POST",t);case 4:e.sent._id?(j.b.success("You sign up successfuly!"),n.push("/login")):j.b.error("There probelm , come back later and try again"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.response.data.code?j.b.error("User already in systme , try login"):j.b.error("There probelm , come back later and try again");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),i=r("email",{required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i}),l=r("password",{required:!0,minLength:3}),b=r("name",{required:!0,minLength:2}),m=r("biz",{required:!1});return Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)("form",{onSubmit:c(s),className:"col-lg-6 mx-auto shadow p-3 rounded mt-3",children:[Object(y.jsx)(C,{title:"Sign up new user"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Email:"}),Object(y.jsx)("input",Object(P.a)(Object(P.a)({},i),{},{type:"text",className:"form-control"})),a.email&&Object(y.jsx)("span",{className:"text-danger",children:"Enter valid email"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Password:"}),Object(y.jsx)("input",Object(P.a)(Object(P.a)({},l),{},{type:"text",className:"form-control"})),a.password&&Object(y.jsx)("span",{className:"text-danger",children:"Enter min 3 charts password"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Full name:"}),Object(y.jsx)("input",Object(P.a)(Object(P.a)({},b),{},{type:"text",className:"form-control"})),a.fullName&&Object(y.jsx)("span",{className:"text-danger",children:"Enter min 2 charts name"})]}),Object(y.jsxs)("div",{className:"mt-2",children:[Object(y.jsx)("input",Object(P.a)(Object(P.a)({},m),{},{type:"checkbox",className:"form-check-input me-2"})),Object(y.jsx)("label",{children:"I am Business"})]}),Object(y.jsx)("button",{className:"btn btn-info mt-3",children:"Sign up"})]})})};var L=function(e){var t=Object(T.a)(),r=t.register,c=t.handleSubmit,a=t.formState.errors,n=Object(d.f)(),s=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O+"/users/login",e.next=4,f("https://compnycards-backend.herokuapp.com/users/login","POST",t);case 4:return r=e.sent,localStorage.setItem("tok",r.token),e.next=8,g();case 8:j.b.success("You logged in !"),n.push("/userInfo"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),j.b.error("User or password worng!");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),i=r("email",{required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i}),l=r("password",{required:!0,minLength:3});return Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)("form",{onSubmit:c(s),className:"col-lg-6 mx-auto shadow p-3 rounded mt-3",children:[Object(y.jsx)(C,{title:"Log in"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Email:"}),Object(y.jsx)("input",Object(P.a)(Object(P.a)({},i),{},{type:"text",className:"form-control"})),a.email&&Object(y.jsx)("span",{className:"text-danger",children:"Enter valid email"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Password:"}),Object(y.jsx)("input",Object(P.a)(Object(P.a)({},l),{},{type:"text",className:"form-control"})),a.password&&Object(y.jsx)("span",{className:"text-danger",children:"Enter min 3 charts password"})]}),Object(y.jsx)("button",{className:"btn btn-success mt-3",children:"Log in"})]})})};var Y=function(e){return Object(y.jsxs)("p",{className:"border-top pt-3 text-center",children:["Cards App \xa9 ",(new Date).getFullYear()," - 1991"]})};var D=function(e){var t=Object(c.useState)({}),r=Object(l.a)(t,2),a=r[0],n=r[1];Object(c.useEffect)((function(){s()}),[]);var s=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O+"/users/userInfo",e.next=3,f("https://compnycards-backend.herokuapp.com/users/userInfo","GET");case 3:(t=e.sent).dateCreated=t.createdAt.substr(0,t.createdAt.indexOf("T")),n(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsx)(C,{title:"Info about your user:"}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("h4",{className:"h5",children:["Name: ",a.name]}),Object(y.jsxs)("h4",{className:"h5",children:["Email: ",a.email]}),Object(y.jsxs)("h4",{className:"h5",children:["Sign up data: ",a.dateCreated]})]})]})},_=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.tok){e.next=2;break}return e.abrupt("return",{err:"No token in localstorage"});case 2:return e.prev=2,O+"/users/authUser",e.next=6,f("https://compnycards-backend.herokuapp.com/users/authUser","GET");case 6:return t=e.sent,e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();var F=function(e){var t=Object(d.f)(),r=function(){var r=Object(u.a)(o.a.mark((function r(){var c;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_();case 2:c=r.sent,e.bizRoute&&(N().biz||(j.b.warning("You must be business"),t.push("/"))),c.status||(j.b.error("There problem, log in again"),localStorage.removeItem("tok"),t.push("/login"));case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(y.jsx)(d.a,{exact:!0,path:e.path,render:function(){return r(),Object(y.jsx)(e.comp,Object(P.a)({},e))}})};var U=function(e){var t=Object(c.useState)([]),r=Object(l.a)(t,2),a=r[0],n=r[1];Object(c.useEffect)((function(){s("https://compnycards-backend.herokuapp.com/users/userCardsFav")}),[]);var s=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t,"GET");case 3:r=e.sent,n(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsx)(C,{title:"Your favorite business cards"}),Object(y.jsx)(S,{ar:a})]})};var M=function(e){var t=Object(c.useState)([]),r=Object(l.a)(t,2),a=r[0],n=r[1];Object(c.useEffect)((function(){s()}),[e.location]);var s=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O+"/cards/userCardsAdded?perPage=999",e.next=3,f("https://compnycards-backend.herokuapp.com/cards/userCardsAdded?perPage=999","GET");case 3:(t=e.sent).reverse(),n(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to del?")){e.next=6;break}return r=O+"/cards/"+t,e.next=4,f(r,"DELETE");case 4:1===e.sent.n&&(s(),j.b.info("Card deleted forever!!!!!!"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)(C,{title:"Biz cards you added before:"}),Object(y.jsx)(b.b,{className:"btn btn-success",to:"/addCard",children:"Add new biz card"}),Object(y.jsx)("div",{className:"table-responsive",children:Object(y.jsxs)("table",{className:"table table-striped",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"#"}),Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Descrption"}),Object(y.jsx)("th",{children:"Address"}),Object(y.jsx)("th",{children:"Phone"}),Object(y.jsx)("th",{children:"edit/del"})]})}),Object(y.jsx)("tbody",{children:a.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:t+1}),Object(y.jsx)("td",{children:e.bizName}),Object(y.jsxs)("td",{children:[e.bizDescription.substr(0,40),"..."]}),Object(y.jsx)("td",{children:e.bizAddress}),Object(y.jsx)("td",{children:e.bizPhone}),Object(y.jsxs)("td",{className:"text-center",children:[Object(y.jsx)(b.b,{to:"/editCard/"+e._id,children:Object(y.jsx)("button",{children:"edit"})}),Object(y.jsx)("button",{onClick:function(){i(e._id)},className:"ms-2",style:{background:"pink"},children:"del"})]})]},e._id)}))})]})})]})};var R=function(e){var t=Object(T.a)(),r=t.register,c=t.handleSubmit,a=t.formState.errors,n=Object(d.f)(),s=r("bizName",{required:!0,minLength:2}),i=r("bizDescription",{required:!0,minLength:2}),l=r("bizAddress",{required:!0,minLength:2}),b=r("bizPhone",{required:!0,minLength:2}),m=r("bizImage",{required:!1}),p=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O+"/cards",e.next=4,f("https://compnycards-backend.herokuapp.com/cards","POST",t);case 4:e.sent._id&&(j.b.success("Card been added"),n.push("/myBizCards")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),j.b.error("There problem, come back next year!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Add new card to your biz:"}),Object(y.jsxs)("form",{onSubmit:c(p),className:"row",children:[Object(y.jsxs)("div",{className:"col-lg-6",children:[Object(y.jsx)("label",{children:"*Biz name"}),Object(y.jsx)("input",Object(P.a)(Object(P.a)({},s),{},{type:"text",className:"form-control mt-2"})),a.bizName&&Object(y.jsx)("small",{className:"text-danger",children:"* You must fill your name"})]}),Object(y.jsxs)("div",{className:"col-lg-6",children:[Object(y.jsx)("label",{children:"*Biz address"}),Object(y.jsx)("input",Object(P.a)(Object(P.a)({},l),{},{type:"text",className:"form-control mt-2"})),a.bizAddress&&Object(y.jsx)("small",{className:"text-danger",children:"* You must Enter valid address"})]}),Object(y.jsxs)("div",{className:"col-lg-6",children:[Object(y.jsx)("label",{children:"*Biz phone"}),Object(y.jsx)("input",Object(P.a)(Object(P.a)({},b),{},{type:"text",className:"form-control mt-2"})),a.bizPhone&&Object(y.jsx)("small",{className:"text-danger",children:"* You must Enter valid Phone number"})]}),Object(y.jsxs)("div",{className:"col-lg-6",children:[Object(y.jsx)("label",{children:"*Biz image url"}),Object(y.jsx)("input",Object(P.a)(Object(P.a)({},m),{},{type:"text",className:"form-control mt-2"})),a.bizImage&&Object(y.jsx)("small",{className:"text-danger",children:"* You must Enter valid url"})]}),Object(y.jsxs)("div",{className:"col-lg-12",children:[Object(y.jsx)("label",{children:"*Biz info"}),Object(y.jsx)("textarea",Object(P.a)(Object(P.a)({},i),{},{className:"form-control",rows:"4"})),a.bizDescription&&Object(y.jsx)("small",{className:"text-danger",children:"* You must enter descrption of biz"})]}),Object(y.jsx)("div",{className:"col-12 text-center mb-3",children:Object(y.jsx)("button",{className:"btn btn-info  mt-4",children:"Add new biz card"})})]})]})};var Z=function(e){var t=Object(c.useState)({}),r=Object(l.a)(t,2),a=(r[0],r[1]),n=Object(T.a)(),s=n.register,i=n.handleSubmit,m=n.setValue,p=n.formState.errors,h=Object(d.f)(),v=s("bizName",{required:!0,minLength:2}),g=s("bizDescription",{required:!0,minLength:2}),N=s("bizAddress",{required:!0,minLength:2}),k=s("bizPhone",{required:!0,minLength:2}),w=s("bizImage",{required:!1});Object(c.useEffect)((function(){z()}),[]);var z=function(){var t=Object(u.a)(o.a.mark((function t(){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=O+"/cards/single/"+e.computedMatch.params.id,t.next=3,x(r);case 3:c=t.sent,a(c),m("bizName",c.bizName),m("bizDescription",c.bizDescription),m("bizAddress",c.bizAddress),m("bizPhone",c.bizPhone),m("bizImage",c.bizImage);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(u.a)(o.a.mark((function t(r){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=O+"/cards/"+e.computedMatch.params.id,t.next=4,f(c,"PUT",r);case 4:1===t.sent.n&&(j.b.dark("Card been update"),h.push("/myBizCards")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),j.b.error("There problem, come back next year!");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Edit card:"}),Object(y.jsxs)("form",{onSubmit:i(S),className:"row",children:[Object(y.jsxs)("div",{className:"col-lg-6",children:[Object(y.jsx)("label",{children:"*Biz name"}),Object(y.jsx)("input",Object(P.a)(Object(P.a)({},v),{},{type:"text",className:"form-control mt-2"})),p.bizName&&Object(y.jsx)("small",{className:"text-danger",children:"* You must fill your name"})]}),Object(y.jsxs)("div",{className:"col-lg-6",children:[Object(y.jsx)("label",{children:"*Biz address"}),Object(y.jsx)("input",Object(P.a)(Object(P.a)({},N),{},{type:"text",className:"form-control mt-2"})),p.bizAddress&&Object(y.jsx)("small",{className:"text-danger",children:"* You must Enter valid address"})]}),Object(y.jsxs)("div",{className:"col-lg-6",children:[Object(y.jsx)("label",{children:"*Biz phone"}),Object(y.jsx)("input",Object(P.a)(Object(P.a)({},k),{},{type:"text",className:"form-control mt-2"})),p.bizPhone&&Object(y.jsx)("small",{className:"text-danger",children:"* You must Enter valid Phone number"})]}),Object(y.jsxs)("div",{className:"col-lg-6",children:[Object(y.jsx)("label",{children:"*Biz image url"}),Object(y.jsx)("input",Object(P.a)(Object(P.a)({},w),{},{type:"text",className:"form-control mt-2"})),p.bizImage&&Object(y.jsx)("small",{className:"text-danger",children:"* You must Enter valid url"})]}),Object(y.jsxs)("div",{className:"col-lg-12",children:[Object(y.jsx)("label",{children:"*Biz info"}),Object(y.jsx)("textarea",Object(P.a)(Object(P.a)({},g),{},{className:"form-control",rows:"4"})),p.bizDescription&&Object(y.jsx)("small",{className:"text-danger",children:"* You must enter descrption of biz"})]}),Object(y.jsxs)("div",{className:"col-12 text-center mb-3",children:[Object(y.jsx)(b.b,{to:"/myBizCards",className:"btn btn-dark mt-4 me-2",children:"Back to list"}),Object(y.jsx)("button",{className:"btn btn-warning  mt-4",children:"Update biz card"})]})]})]})};var G=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),r=t[0],a=t[1];Object(c.useEffect)((function(){n()}),[]);var n=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(b.a,{children:[Object(y.jsx)("header",{className:"container-fluid shadow-sm",children:r&&Object(y.jsx)(d.a,{path:"/",component:z})}),r&&Object(y.jsx)("main",{className:"container",style:{minHeight:"81vh"},children:Object(y.jsxs)(d.c,{children:[Object(y.jsx)(d.a,{exact:!0,path:"/",component:q}),Object(y.jsx)(d.a,{exact:!0,path:"/about",component:A}),Object(y.jsx)(d.a,{exact:!0,path:"/signup",component:B}),Object(y.jsx)(d.a,{exact:!0,path:"/login",component:L}),Object(y.jsx)(F,{path:"/userInfo",comp:D}),Object(y.jsx)(F,{path:"/favorites",comp:U}),Object(y.jsx)(F,{bizRoute:!0,path:"/myBizCards",comp:M}),Object(y.jsx)(F,{bizRoute:!0,path:"/addCard",comp:R}),Object(y.jsx)(F,{bizRoute:!0,path:"/editCard/:id",comp:Z}),Object(y.jsx)(d.a,{path:"/",component:I})]})}),Object(y.jsx)("footer",{children:Object(y.jsx)(Y,{})}),Object(y.jsx)(j.a,{position:"top-left"})]})},H=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,74)).then((function(t){var r=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),c(e),a(e),n(e),s(e)}))};s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(G,{})}),document.getElementById("root")),H()}},[[73,1,2]]]);
//# sourceMappingURL=main.5ab92fbc.chunk.js.map